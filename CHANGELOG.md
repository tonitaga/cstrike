# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [0.8.0]
- Обновления плагина `incom_gravity.amxx` (`1.0` -> `1.1`)
    - Добавлена совместимость с плагином `incom_respawn.amxx`.
    - Изменение гравитации теперь привязано дополнительно к опросу по периоду `amx_incom_gravity_max_duration`
    - Изменено значение параметра `amx_incom_gravity_change_percent` на `5.0`
    - Изменено значение параметра `amx_incom_gravity_max_duration` на `60.0`
- Удален файл `incom_print.inc`. Заменена печать на `client_print_color`
- Добавлен плагин `e6a_bhop.ammx`:
    - Автоматическое выполнение прыжков с ускорением с нажатым `Space`
    - Во время раунда проигрывается тематическая музыка
    - Случайная активация режима в начале и во время раунда.
    - Если выставить `amx_e6a_bhop_chance` = 100, тогда таймер не будет сбрасываться.

## [0.7.3]
- Обновления плагина `incom_kill_streak_reward.amxx` (`3.0` -> `3.1`)
    - Система таблиц: Теперь таблица одна. Добавлена колонка с названием карты.
    - Статистика: Ведется для каждой карты. Можно посмотреть общий топ.
    - Команды: `/mapstreak` — статистика по картам, `/topstreak` — общий топ.
- Убрано выставление стартовой карты из `run_server.bat`.
    - Запуск сервера и смена карты ускорились в 2 раза
- Удален mode/plugin `ReDeathmatch` из-за ненадобности

## [0.7.2]
- Обновления плагина `incom_kill_streak_reward.amxx` (`2.0` -> `3.0`)
    - Добавлены разные статистики в зависимости от типа карты (обычная, ножевая, awp-карта)
    - Добавлена возможность отключать награды за серию убийств `amx_incom_kill_streak_reward_enable`
    - Добавлена возможность отключать выдачу HP за серию убийств на ножевых картах `amx_incom_kill_streak_reward_block_health_on_knife_maps`
- Добавлено отключение `restmenu` плагинов в `plugins.ini`

## [0.7.1]
- Добавлены карты `fy_xmas` `awp_india_xmas` `35hp_xmas`
- Обновления плагина `incom_respawn.amxx` (`1.5.0` -> `1.6.0`)
    - Исправлен баг с невыдачей оружия при спавне. В некоторых случаях, например при включении режима `TeamDM` оружие игрокам не выдавалось.
    - Добавлена совместимость с картами, которые автоматически выдают оружие:
        - Добавлена блокировна выдачи и возможности выбора оружия на картах `awp*` `35hp*`
- Обновление плагина `reapi_healthnade.amxx` (`0.0.25f` -> `0.0.26.f`)
    - Добавлен CVAR `HealthNade_BlockEquipOnKnifeMaps`. Блокирует авто-выдачу гранаты на ножевых картах
- Доработана система бонусов AES.
    - Добавлена возможность зарабатывать очки просто за убийства на сервере.
        - До этого был баг, что нужно было делать серию убийств
    - Убрана из магазина бонусов возможность покупать «Мега» оружие.
    - Подкорректированы цены в бонусном магазине.
- Обновления плагина `incom_kill_streak_reward.amxx` (`1.0` -> `2.0`)
    - Добавлено сохранение серии убийств в базу данных
    - Добавлена клиентская команда `/killstreak`, позволяет посмотреть Top10 серий убийств.
- Обновление плагина `custom_models` (`1.0` -> `1.1`)
    - Формат записи в файле `random_models.ini` теперь в виде `"model_t" "model_ct"`.
    - Добавлена совместимость с плагином `incom_respawn.amxx`.
    - В режиме Team DM информация о получении уникальной модели отображаются только для игрока, который её получил
- Добавлена карта `de_dust2_2x2_xmas_incom`
- Обновление плагина `aes_bonus_cstrike` (`0.5.9.1` -> `0.6.0.0`)
    - Отключение бонусов в начале раунда на ножевых картах. Регулируется при помощи `aes_block_round_bonus_on_knife_maps`
- Обновление `incom_commands.txt`
    - Добавление информации о команде `/killstreak`
    - Вся информация переведена на английский

## [0.7.0]

- Обновления плагина `incom_music.amxx` (`3.0` -> `4.0`)
    - ***`В плагине обновлены все звуки на MP3. Теперь регулировать громкость можно через настройки игры`***
    - Добавлены плавные переходы: мягкое начало и затухание в конце.
    - Добавлены новые новогодние песни.
    - Игроки с флагом `ADMIN_IMMUNITY` могут в любой момент включать музыку, используя команду `say /music`, и выключать `say /stop_music`.
    - Убрана задержка перед началом песни, так как появилось мягкое начало
    - Добавлены песни
        - `Let It Snow!`, `Rockin’ Around the Christmas Tree`, `Last Christmas`,
        - `Code & Counter-Strike`, `Lunch Pizza`,
        - `Дискотека Авария - Новогодняя`, `Верка Сердючка - Новогодняя`, `Андрей Губин - Зима холода`
    - Теперь можно заказывать песни через бонусное меню `/anew`. Заказ новой песни будет доступен после `amx_incom_music_request_timeout` секунд. 
    - Добавлена возможность вкл/выкл логики заказа песни: `amx_incom_music_request_enable`.
    - Добавлен словарь фраз с поддержкой английского и русского языка `incom_music.txt`
- Обновления плагина `incom_respawn.amxx` (`1.4.0` -> `1.5.0`)
    - Добавлен cvar `amx_incom_respawn_random_weapons_enable`. Включает режим TeamDM со случайным оружием
    - Для работы нового `cvar` необоходимо, чтобы TeamDM был включен: `amx_incom_respawn_enable 1`
    - Добавлен новый сет оружия `Random` в меню `/weapons`
    - Добавлен словарь фраз с поддержкой английского и русского языка `incom_respawn.txt`
- Добавление контрибьютеру `smayl1ks` админских прав на сервере.
- Добавление в motd.txt раздела с контрибьютерами и гитхабом.
- Обновление плагина `incom_camera_changer.amxx` (`1.0` -> `1.1`)
    - Добавлен новый ключ `CAMERA_NAME` в словать `incom_camera_changer.txt`
- Добавлено игнорирование файлов `*.pvi` `*.pxp` в `.gitignore`
- Изменена автогенерация `cfg` файлов для скриптов.
    - Формат сгенерированного файла теперь такой: `plugin-plugin_name.cfg`
- Добавлен плагин `incom_gravity.amxx` со случайный изменением гравитации на сервере.
    - Параметры плагина можно посмотреть в `plugin-incom_gravity.cfg`
- Рефакторинг способа работы с `CVAR` переменными
    - Изменена работа в плагине `incom_camera_changer.amxx`
    - Изменена работа в плагине `incom_music.amxx`
- Добавлен плагин `e6a_knife.amxx` для эффектных убийств с ножа.
- Добавлено отключение плагина `mapchooser.amxx`.
    - В сборке, начиная с `0.4.0` есть модульный менеджер карт `map_manager*.amxx`
- Добавлено отключение плагина `f_ultimate_sounds.amxx`
- Добавлен плагин `incom_reset_score.amxx`. Старый `resetscore.amxx` удален
- Изменение скина в плагине `incom_skins_knife.amxx`
    - Скин `Karambit Doppler Emerald` был заменен на другую фазу
- Удалены оружия `WEAPON_SCOUT` `WEAPON_M3` `WEAPON_SG550` из режима со случайным оружием
- Добавлен include файл `incom_print.inc` с удобной функцией печати информации клиентам
- Обновления плагина `incom_version.amxx` (`1.0` -> `1.1`)
    - Доработка словаря `incom_version.txt` с использованием `incom_print.inc`
- Обновление плагинов `incom_skins_*.amxx`
    - Добавление словаря `incom_skins.txt` с использованием `incom_print.inc`
- Добавлен плагин `incom_kill_streak_reward.amxx`. Для выдачи награды за серию убийств.
    - По умолчанию выключен.
    - Включается при включении режима `TeamDM` `amx_incom_respawn_enable 1`
    - Добавлено уведомление о лучшей серии убийств всем игрокам
    - Добавлена поддержка гранаты "Хилка"
- Заменен STEAM ID и моделька у игрока `smayl1ks`
- Добавлены скины `dobby_t` и `dobby_ct`
- Новый режим выпадения случайных моделек (версия `1.0`). Изменен плагин `custom_models.sma` для нового режима выпадения случайных моделей
- Добавлен файл `random_models.ini` для рандомных моделек

## [0.6.0]

- Добавлен плагин `restmenu_chat.amxx` для админа на запрет оружия. Теперь щит по умолчанию недоступен
- [**BUG**] Обнаружена проблема с совместимостью плагина `restmenu.amxx` и `PodBot`: боты добавляются в игру, но остаются в режиме наблюдателя. Это известная проблема, и пока решение не найдено. [#12](https://github.com/tonitaga/incomsystem_cstrike/issues/12)
- Доработана система увеличения `HP` в зависимости от уровня престижа. Максимальное количество HP теперь `105`
- Доработки плагина `incom_respawn.amxx`
    - Добавлено более умное включение режима TeamDM.
        - При включении режима `amx_incom_respawn_enable 1`, допонительно выставляется
            1) `amx_incom_weapons_delete_enable 1` - включение плагина по удалению выпавшего оружия
            2) `amx_incom_weapons_delete_time 5.0` - выставление времени удаления оружия
            3) `amx_incom_respawn_time 1.0` - выставление времени возрождения
            4) `sv_restart 1` - мягкий перезапуск через 1 секунду
        - При выключении режима `amx_incom_respawn_enable 0`, допонительно выставляется
            1) `amx_incom_weapons_delete_enable 0` - выключение плагина по удалению выпавшего оружия
            2) `sv_restart 1` - мягкий перезапуск через 1 секунду
    - Добавлена логика запоминания оружия, выбранного игроком по команде `/weapons`. 
        - Раньше, после каждого возрождения, приходилось заново выбирать оружие, даже если оно у вас уже было. Теперь эта проблема решена.
    - Набор оружия по умолчанию:
        - При первом заходе за одну из сторон, игрок автоматически получает комплект командного оружия
            - (`CT`): M4A1 + Deagle
            - (` T`): AK47 + Deagle
    - Добавлена логика информирования игроков
        - Каждые 60 секунд игрокам напоминают, что можно менять оружие с помощью команды `/weapons`.
- Добавлены карты `$2000$_xmas` `de_dust2_2x2_xmas`
- Доработки плагинов для системы скинов
    - В скрипты для `AK47`, `M4A1`, `AWP`, `Deagle` добавлены новогодние скины. 
        - По умолчанию новогодние скины отключены. Чтобы их включить, нужно установить макрос `XMAS_SKIN_ENABLE` в значение 1.
    - Исправлен баг, из-за которого модель оружия менялась у игрока только после смены оружия. Теперь это происходит сразу.
- Добавлен плагин `weapons_replacement.amxx` для замены игровых моделей.
- Добавление новогодних элементов
    - Добавление плагина `snow.amxx` для добавления на сервер снежинок. Клиент может отключать/включать при помощи `cl_weather`
    - Добавлены модели гранат в виде ёлочных шаров
    - Добавлен плагин `snowman_bomb.amxx` для замены модели бомбы на снеговика
    - Доработка плагина `incom_music.amxx`. Добавлена возможность выбора типа песен. Добавлен тип `Incomsystem [Xmas]`
    - Добавлен и доработан плагин `santa_hats.amxx`, который добавляет новогоднюю шапку всем игрокам.

## [0.5.0]

- Удален плагин `admin_explode.amxx`
- Добавлен плагин `ReDeathmatch.amxx`, п    о умолчанию выключен
- Добавлены модели игроков с тематическими надписями на груди и спине.
- Добавлена автоматическая выдача парашута всем игрокам
- Добавлена Граната «Молотов», можно купить при написании в чат `/buy_molotov`
- Добавлен плагин `molotov_aes_layer.amxx` для возможности покупать молотов в бонусном магазине
- Изменено время закупки на сервере по умолчанию с 15 до 30с.
- Добавлена система сохранения выбранного скина на оружие в базу данных `sqlite`
- Добавлена возможность отключать музыку в конце раунда в плагине `incom_music.amxx`
- Теперь "Молотов" наносит урон только противникам и тому, кто его бросил
- Убрана модель `Deagle Bloodsport` из CS2. Добавлена стандартная CS1.6 `Deagle Oxide Blaze`
- Переписан плагин для смены камеры `incom_camera_changer.amxx`. Теперь он всегда активен, имеет конфигурационный файл, а пользоваться камерой может только администратор.
- Убраны редкоиспользуемые скины ножен. Добавлен новый нож `Karambit Fade`
- Добавлены новые уровни в систему званий. Добавлены 50 уровней престижа.
    - Награда за уровни престижа:
        - 2 брони за каждый уровень престижа (Максимальный показатель брони 100)
        - 1 HP за каждые два уровня престижа (Максимальный показатель HP 130)
- Добавлен плагин для изменения стандартого меню выбора команды на минималистичное текстовое `teamselect.amxx`
- Добавлены скины на ak47, m4a1 в стиле `incomsystem`
- Убран плагин `incom_hud_info.amxx`, вместо этого добавлен плагин `incom_version.amxx`, по команде `/version` отображает версию сборки
- Добавлен плагин для отображения тематического графити в стиле `Incomsystem`. `amxx_grafity.amxx`

## [0.4.0]

- Добавлен плагин, который запоминает надетый глушитель и режим burst-fire (`weaponstate_remember.amxx`)
- Из плагина `f_ultimate_sound.amxx` убрано отображение информации о типе убийств и сутиаций на HUD.
- Добавлен плагин `incom_hud_info.amxx`, который показывает основную информацию о сервере в верхней части экрана клиента.
- Добавил новые карты `de_mirage` `fy_tuscan` `fy_pool_day` `$3000$_b3`
- Добавлен плагин `mode.amxx`, для автоматического уменьшения размера карты при маленьком онлайне
- Добавлен современный модульный менеджер карт. `map_manager*.amxx`
- Изменен `MOTD` файл, добавлен плагин на отображение доступных серверных команд `/commands` (`incom_commands.amxx`)

## [0.3.0]

- Обновлена система до новой версии. Теперь сборка на основе 
    - AmxModX [1.10.0]
    - ReHLDS [3.7.0.688]
    - Metamod-r [1.3.0.128]
    - Reunion [0.1.92]
    - Revoice [0.1.0.32]
    - ReAPI [5.26.0.338]
    - ReGameDLL [5.28.0.756]

- Добавлена система воскрешений после смерти (По умолчанию выключена)
- Добавлен HTTP file server для быстрой подгрузки ресурсов клиентами
- Добавлен плагин по улучшению стандартной дымовой гранаты. Теперь через дым ничего не видно
- В режиме DeathMatch добавлена возможность выбора оружия по команде `/weapons`. Для удобства можно сделать bind (`bind "j" "say /weapons"`). Чтобы bind не прописывать каждый раз, добавить этот bind в `userconfig.cfg`
- Добавлены скины по умолчанию. Клиент при заходе на сервер получит набор скинов. Можно поменять по команде `/skins-menu` Для удобства можно сделать bind (`bind "n" "say /skins-menu"`). Чтобы bind не прописывать каждый раз, добавить этот bind в `userconfig.cfg`
- Добавлен модуль REAPI
- Убран плагин спрайтов после убийства (Из-за неработоспособности)
- Добавлен плагин вампиризма
- Добавлен плагин на удаление выпавшего из игрока оружия через указанный промежуток времени
- Добавлен плагин обнуления счета `/rs`
- Изменен плагин для отображения нанесенного урона. Теперь плагин можно конфигурировать
- Добавлены конфигурационные файлы для плагинов `incom_respawn.amxx` и `incom_weapons_delete.amxx`
- Добавлен плагин статистики и рангов на базе MySQL/SQLite (AES и СsStatsSQL)
- Добавлена граната "Хилка", исправлена совместимость с плагином `incom_respawn.amxx`
- Добавлен плагин на взрывную волну после смерти админа

## [0.2.0]

- Улучшена система скинов, теперь их видно от третьего лица
- Добавлено больше скинов
- Добавлены кастомные модели персонажей

## [0.1.0]

- Обновление мода AMX до версии 1.9
- Появление плагина с парашютом
- Внедрение плагина для звуков после раунда
- Внедрение плагина для звуков серии убийств
- Добавление плагина для отображения траектории полета гранат
- Создание менеджера скинов (доступен только для себя, другим не видно)
- Добавление кастомных скинов
- Интеграция спрайтов после убийства
- Введение базовых настроек для сервера и игроков
